<div class="d-flex flex-column">
    <div class="ml-auto mr-auto">
        <% @posts.each do |post| %>
            <div class="card text-white bg-dark mb-3" style="max-width: 75rem; height: auto;">
                <div class="card-header">
                    <div class="m-auto">
                        <%= image_tag post.user.avatar, class:'imageUserComment' if post.user.avatar.attached? %><b>@<%= post.user.first_name %> <%= post.user.last_name %></b>
                    </div>
                </div>
                <div class="card-body">
                    <p class="card-title">
                        <small><b>Created: </b><%= time_ago_in_words(post.created_at) %> ago.</small>
                    </p>
                    <p class="card-text">
                        <b>Content: </b><%= post.body %><br><br>
                        <%= link_to 'Show post', post_path(post), class: "btn btn-warning" %>
                    </p>
                </div>
                <% if post.images.present? %>
                    <div class="d-flex imagesDiv">
                        <% for i in 0...post.images.count %>
                            <%= image_tag post.images[i], class:"postImage" %>
                        <% end %>
                    </div>
                <% end %>
                <br>
                <div class="p-3">
                    <div>
                        <% if post.comments.present?  %>
                            <h3>Comments.</h3>
                            <%= render post.comments %>
                        <% end %>
                    </div>
                    <br>
                    <div>
                        <h3>Add comment:</h3>
                        <%= render 'comments/form', obj: post %>
                    </div>
                </div>
            </div>
            <br>
        <% end %>
    </div>
</div>
